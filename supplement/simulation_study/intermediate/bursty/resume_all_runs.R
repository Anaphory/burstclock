import::here(.from="parallel", mclapply)

resume = function(xml){
    system2(
      command="beast",
      args=c("-resume", basename(xml)),
      stdout=paste(basename(xml), ".screenlog", sep="")
    )
}

paths = c("test.001.xml",
          "test.002.xml",
          "test.003.xml",
          "test.004.xml",
          "test.005.xml",
          "test.006.xml",
          "test.007.xml",
          "test.008.xml",
          "test.009.xml",
          "test.010.xml",
          "test.011.xml",
          "test.012.xml",
          "test.013.xml",
          "test.014.xml",
          "test.015.xml",
          "test.016.xml",
          "test.017.xml",
          "test.018.xml",
          "test.019.xml",
          "test.020.xml",
          "test.021.xml",
          "test.022.xml",
          "test.023.xml",
          "test.024.xml",
          "test.025.xml",
          "test.026.xml",
          "test.027.xml",
          "test.028.xml",
          "test.029.xml",
          "test.030.xml",
          "test.031.xml",
          "test.032.xml",
          "test.033.xml",
          "test.034.xml",
          "test.035.xml",
          "test.036.xml",
          "test.037.xml",
          "test.038.xml",
          "test.039.xml",
          "test.040.xml",
          "test.041.xml",
          "test.042.xml",
          "test.043.xml",
          "test.044.xml",
          "test.045.xml",
          "test.046.xml",
          "test.047.xml",
          "test.048.xml",
          "test.049.xml",
          "test.050.xml",
          "test.051.xml",
          "test.052.xml",
          "test.053.xml",
          "test.054.xml",
          "test.055.xml",
          "test.056.xml",
          "test.057.xml",
          "test.058.xml",
          "test.059.xml",
          "test.060.xml",
          "test.061.xml",
          "test.062.xml",
          "test.063.xml",
          "test.064.xml",
          "test.065.xml",
          "test.066.xml",
          "test.067.xml",
          "test.068.xml",
          "test.069.xml",
          "test.070.xml",
          "test.071.xml",
          "test.072.xml",
          "test.073.xml",
          "test.074.xml",
          "test.075.xml",
          "test.076.xml",
          "test.077.xml",
          "test.078.xml",
          "test.079.xml",
          "test.080.xml",
          "test.081.xml",
          "test.082.xml",
          "test.083.xml",
          "test.084.xml",
          "test.085.xml",
          "test.086.xml",
          "test.087.xml",
          "test.088.xml",
          "test.089.xml",
          "test.090.xml",
          "test.091.xml",
          "test.092.xml",
          "test.093.xml",
          "test.094.xml",
          "test.095.xml",
          "test.096.xml",
          "test.097.xml",
          "test.098.xml",
          "test.099.xml",
          "test.100.xml")

mclapply(X = paths,
         FUN = function(path) resume(path),
         mc.cores = 4,
         mc.preschedule = FALSE,
         mc.allow.recursive = FALSE)

